{"ast":null,"code":"\"use client\";import{useState,useRef,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function OTPInput(_ref){let{length,onComplete,isSeniorMode=false}=_ref;const[otp,setOtp]=useState(new Array(length).fill(\"\"));const inputRefs=useRef([]);useEffect(()=>{if(inputRefs.current[0]){inputRefs.current[0].focus();}},[]);const handleChange=(element,index)=>{if(isNaN(Number(element.value)))return false;setOtp([...otp.map((d,idx)=>idx===index?element.value:d)]);// Focus next input\nif(element.nextSibling&&element.value!==\"\"){;element.nextSibling.focus();}};const handleKeyDown=(e,index)=>{if(e.key===\"Backspace\"){if(otp[index]===\"\"&&index>0){var _inputRefs$current;// Focus previous input if current is empty\n(_inputRefs$current=inputRefs.current[index-1])===null||_inputRefs$current===void 0?void 0:_inputRefs$current.focus();}setOtp([...otp.map((d,idx)=>idx===index?\"\":d)]);}};const handlePaste=e=>{e.preventDefault();const pasteData=e.clipboardData.getData(\"text/plain\").slice(0,length);const pasteArray=pasteData.split(\"\").filter(char=>!isNaN(Number(char)));if(pasteArray.length===length){var _inputRefs$current2;setOtp(pasteArray);(_inputRefs$current2=inputRefs.current[length-1])===null||_inputRefs$current2===void 0?void 0:_inputRefs$current2.focus();}};useEffect(()=>{const otpString=otp.join(\"\");if(otpString.length===length){onComplete(otpString);}},[otp,length,onComplete]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center space-x-3\",children:otp.map((data,index)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",maxLength:1,value:data,ref:el=>{inputRefs.current[index]=el;},onChange:e=>handleChange(e.target,index),onKeyDown:e=>handleKeyDown(e,index),onPaste:handlePaste,className:\"border border-gray-300 rounded-lg text-center font-bold focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent \".concat(isSeniorMode?\"w-16 h-16 text-2xl\":\"w-12 h-12 text-xl\")},index))});}","map":{"version":3,"names":["useState","useRef","useEffect","jsx","_jsx","OTPInput","_ref","length","onComplete","isSeniorMode","otp","setOtp","Array","fill","inputRefs","current","focus","handleChange","element","index","isNaN","Number","value","map","d","idx","nextSibling","handleKeyDown","e","key","_inputRefs$current","handlePaste","preventDefault","pasteData","clipboardData","getData","slice","pasteArray","split","filter","char","_inputRefs$current2","otpString","join","className","children","data","type","maxLength","ref","el","onChange","target","onKeyDown","onPaste","concat"],"sources":["C:/Users/Rohit/Downloads/wellnest-platform/client/src/components/OTPInput.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useRef, useEffect } from \"react\"\n\ninterface OTPInputProps {\n  length: number\n  onComplete: (otp: string) => void\n  isSeniorMode?: boolean\n}\n\nexport default function OTPInput({ length, onComplete, isSeniorMode = false }: OTPInputProps) {\n  const [otp, setOtp] = useState(new Array(length).fill(\"\"))\n  const inputRefs = useRef<Array<HTMLInputElement | null>>([])\n\n  useEffect(() => {\n    if (inputRefs.current[0]) {\n      inputRefs.current[0].focus()\n    }\n  }, [])\n\n  const handleChange = (element: HTMLInputElement, index: number) => {\n    if (isNaN(Number(element.value))) return false\n\n    setOtp([...otp.map((d, idx) => (idx === index ? element.value : d))])\n\n    // Focus next input\n    if (element.nextSibling && element.value !== \"\") {\n      ;(element.nextSibling as HTMLInputElement).focus()\n    }\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>, index: number) => {\n    if (e.key === \"Backspace\") {\n      if (otp[index] === \"\" && index > 0) {\n        // Focus previous input if current is empty\n        inputRefs.current[index - 1]?.focus()\n      }\n      setOtp([...otp.map((d, idx) => (idx === index ? \"\" : d))])\n    }\n  }\n\n  const handlePaste = (e: React.ClipboardEvent) => {\n    e.preventDefault()\n    const pasteData = e.clipboardData.getData(\"text/plain\").slice(0, length)\n    const pasteArray = pasteData.split(\"\").filter((char) => !isNaN(Number(char)))\n\n    if (pasteArray.length === length) {\n      setOtp(pasteArray)\n      inputRefs.current[length - 1]?.focus()\n    }\n  }\n\n  useEffect(() => {\n    const otpString = otp.join(\"\")\n    if (otpString.length === length) {\n      onComplete(otpString)\n    }\n  }, [otp, length, onComplete])\n\n  return (\n    <div className=\"flex justify-center space-x-3\">\n      {otp.map((data, index) => (\n        <input\n          key={index}\n          type=\"text\"\n          maxLength={1}\n          value={data}\n          ref={(el) => { inputRefs.current[index] = el; }}\n          onChange={(e) => handleChange(e.target, index)}\n          onKeyDown={(e) => handleKeyDown(e, index)}\n          onPaste={handlePaste}\n          className={`border border-gray-300 rounded-lg text-center font-bold focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n            isSeniorMode ? \"w-16 h-16 text-2xl\" : \"w-12 h-12 text-xl\"\n          }`}\n        />\n      ))}\n    </div>\n  )\n}\n"],"mappings":"AAAA,YAAY,CAIZ,OAASA,QAAQ,CAAEC,MAAM,CAAEC,SAAS,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAQnD,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAA8D,IAA7D,CAAEC,MAAM,CAAEC,UAAU,CAAEC,YAAY,CAAG,KAAqB,CAAC,CAAAH,IAAA,CAC1F,KAAM,CAACI,GAAG,CAAEC,MAAM,CAAC,CAAGX,QAAQ,CAAC,GAAI,CAAAY,KAAK,CAACL,MAAM,CAAC,CAACM,IAAI,CAAC,EAAE,CAAC,CAAC,CAC1D,KAAM,CAAAC,SAAS,CAAGb,MAAM,CAAiC,EAAE,CAAC,CAE5DC,SAAS,CAAC,IAAM,CACd,GAAIY,SAAS,CAACC,OAAO,CAAC,CAAC,CAAC,CAAE,CACxBD,SAAS,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAC9B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAGA,CAACC,OAAyB,CAAEC,KAAa,GAAK,CACjE,GAAIC,KAAK,CAACC,MAAM,CAACH,OAAO,CAACI,KAAK,CAAC,CAAC,CAAE,MAAO,MAAK,CAE9CX,MAAM,CAAC,CAAC,GAAGD,GAAG,CAACa,GAAG,CAAC,CAACC,CAAC,CAAEC,GAAG,GAAMA,GAAG,GAAKN,KAAK,CAAGD,OAAO,CAACI,KAAK,CAAGE,CAAE,CAAC,CAAC,CAAC,CAErE;AACA,GAAIN,OAAO,CAACQ,WAAW,EAAIR,OAAO,CAACI,KAAK,GAAK,EAAE,CAAE,CAC/C,CAAEJ,OAAO,CAACQ,WAAW,CAAsBV,KAAK,CAAC,CAAC,CACpD,CACF,CAAC,CAED,KAAM,CAAAW,aAAa,CAAGA,CAACC,CAAwC,CAAET,KAAa,GAAK,CACjF,GAAIS,CAAC,CAACC,GAAG,GAAK,WAAW,CAAE,CACzB,GAAInB,GAAG,CAACS,KAAK,CAAC,GAAK,EAAE,EAAIA,KAAK,CAAG,CAAC,CAAE,KAAAW,kBAAA,CAClC;AACA,CAAAA,kBAAA,CAAAhB,SAAS,CAACC,OAAO,CAACI,KAAK,CAAG,CAAC,CAAC,UAAAW,kBAAA,iBAA5BA,kBAAA,CAA8Bd,KAAK,CAAC,CAAC,CACvC,CACAL,MAAM,CAAC,CAAC,GAAGD,GAAG,CAACa,GAAG,CAAC,CAACC,CAAC,CAAEC,GAAG,GAAMA,GAAG,GAAKN,KAAK,CAAG,EAAE,CAAGK,CAAE,CAAC,CAAC,CAAC,CAC5D,CACF,CAAC,CAED,KAAM,CAAAO,WAAW,CAAIH,CAAuB,EAAK,CAC/CA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,SAAS,CAAGL,CAAC,CAACM,aAAa,CAACC,OAAO,CAAC,YAAY,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE7B,MAAM,CAAC,CACxE,KAAM,CAAA8B,UAAU,CAAGJ,SAAS,CAACK,KAAK,CAAC,EAAE,CAAC,CAACC,MAAM,CAAEC,IAAI,EAAK,CAACpB,KAAK,CAACC,MAAM,CAACmB,IAAI,CAAC,CAAC,CAAC,CAE7E,GAAIH,UAAU,CAAC9B,MAAM,GAAKA,MAAM,CAAE,KAAAkC,mBAAA,CAChC9B,MAAM,CAAC0B,UAAU,CAAC,CAClB,CAAAI,mBAAA,CAAA3B,SAAS,CAACC,OAAO,CAACR,MAAM,CAAG,CAAC,CAAC,UAAAkC,mBAAA,iBAA7BA,mBAAA,CAA+BzB,KAAK,CAAC,CAAC,CACxC,CACF,CAAC,CAEDd,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwC,SAAS,CAAGhC,GAAG,CAACiC,IAAI,CAAC,EAAE,CAAC,CAC9B,GAAID,SAAS,CAACnC,MAAM,GAAKA,MAAM,CAAE,CAC/BC,UAAU,CAACkC,SAAS,CAAC,CACvB,CACF,CAAC,CAAE,CAAChC,GAAG,CAAEH,MAAM,CAAEC,UAAU,CAAC,CAAC,CAE7B,mBACEJ,IAAA,QAAKwC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAC3CnC,GAAG,CAACa,GAAG,CAAC,CAACuB,IAAI,CAAE3B,KAAK,gBACnBf,IAAA,UAEE2C,IAAI,CAAC,MAAM,CACXC,SAAS,CAAE,CAAE,CACb1B,KAAK,CAAEwB,IAAK,CACZG,GAAG,CAAGC,EAAE,EAAK,CAAEpC,SAAS,CAACC,OAAO,CAACI,KAAK,CAAC,CAAG+B,EAAE,CAAE,CAAE,CAChDC,QAAQ,CAAGvB,CAAC,EAAKX,YAAY,CAACW,CAAC,CAACwB,MAAM,CAAEjC,KAAK,CAAE,CAC/CkC,SAAS,CAAGzB,CAAC,EAAKD,aAAa,CAACC,CAAC,CAAET,KAAK,CAAE,CAC1CmC,OAAO,CAAEvB,WAAY,CACrBa,SAAS,0IAAAW,MAAA,CACP9C,YAAY,CAAG,oBAAoB,CAAG,mBAAmB,CACxD,EAVEU,KAWN,CACF,CAAC,CACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}